/*! For license information please see desktop.395f64b36647147c48da.js.LICENSE.txt */
!function(){var e={eWwy:function(e,t,n){!function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;function i(){}function s(){}s.resetWarningCache=i;var c,u=(function(e){e.exports=function(){function e(e,t,n,r,a,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}()}(c={exports:{}},c.exports),c.exports),l=function(e){return null!==e&&"object"===n(e)},f="[object Object]",p=function e(t,n){if(!l(t)||!l(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a=Object.prototype.toString.call(t)===f;if(a!==(Object.prototype.toString.call(n)===f))return!1;if(!a&&!r)return!1;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(var s={},c=0;c<o.length;c+=1)s[o[c]]=!0;for(var u=0;u<i.length;u+=1)s[i[u]]=!0;var p=Object.keys(s);if(p.length!==o.length)return!1;var d=t,m=n;return p.every((function(t){return e(d[t],m[t])}))},d=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},m=function(e){if(null===e||l(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;var t;throw new Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},y=function(e){if(function(e){return l(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(m)};var t=m(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},b=t.createContext(null);b.displayName="ElementsContext";var v=function(e){var n=e.stripe,r=e.options,o=e.children,i=t.useRef(!1),s=t.useRef(!0),c=t.useMemo((function(){return y(n)}),[n]),u=a(t.useState((function(){return{stripe:null,elements:null}})),2),l=u[0],f=u[1],m=d(n),v=d(r);return null!==m&&(m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),p(r,v)||console.warn("Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.")),i.current||("sync"===c.tag&&(i.current=!0,f({stripe:c.stripe,elements:c.stripe.elements(r)})),"async"===c.tag&&(i.current=!0,c.stripePromise.then((function(e){e&&s.current&&f({stripe:e,elements:e.elements(r)})})))),t.useEffect((function(){return function(){s.current=!1}}),[]),t.useEffect((function(){var e=l.stripe;e&&e._registerWrapper&&e._registerWrapper({name:"react-stripe-js",version:"1.2.2"})}),[l.stripe]),t.createElement(b.Provider,{value:l},o)};v.propTypes={stripe:u.any,options:u.object};var h=function(e){return function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(t.useContext(b),e)},g=function(e){return(0,e.children)(h("mounts <ElementsConsumer>"))};g.propTypes={children:u.func.isRequired};var w=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},_=function(e){return l(e)?(e.paymentRequest,r(e,["paymentRequest"])):{}},E=function(){},x=function(e,n){var r,a="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),o=n?function(e){h("mounts <".concat(a,">"));var n=e.id,r=e.className;return t.createElement("div",{id:n,className:r})}:function(n){var r=n.id,o=n.className,i=n.options,s=void 0===i?{}:i,c=n.onBlur,u=void 0===c?E:c,l=n.onFocus,f=void 0===l?E:l,d=n.onReady,m=void 0===d?E:d,y=n.onChange,b=void 0===y?E:y,v=n.onEscape,g=void 0===v?E:v,x=n.onClick,S=void 0===x?E:x,k=h("mounts <".concat(a,">")).elements,O=t.useRef(null),T=t.useRef(null),j=w(m),N=w(u),A=w(f),I=w(S),P=w(b),F=w(g);t.useLayoutEffect((function(){if(null==O.current&&k&&null!=T.current){var t=k.create(e,s);O.current=t,t.mount(T.current),t.on("ready",(function(){return j(t)})),t.on("change",P),t.on("blur",N),t.on("focus",A),t.on("escape",F),t.on("click",I)}}));var C=t.useRef(s);return t.useEffect((function(){C.current&&C.current.paymentRequest!==s.paymentRequest&&console.warn("Unsupported prop change: options.paymentRequest is not a customizable property.");var e=_(s);0===Object.keys(e).length||p(e,_(C.current))||O.current&&(O.current.update(e),C.current=s)}),[s]),t.useLayoutEffect((function(){return function(){O.current&&O.current.destroy()}}),[]),t.createElement("div",{id:r,className:o,ref:T})};return o.propTypes={id:u.string,className:u.string,onChange:u.func,onBlur:u.func,onFocus:u.func,onReady:u.func,onClick:u.func,options:u.object},o.displayName=a,o.__elementType=e,o},S="undefined"==typeof window,k=x("auBankAccount",S),O=x("card",S),T=x("cardNumber",S),j=x("cardExpiry",S),N=x("cardCvc",S),A=x("fpxBank",S),I=x("iban",S),P=x("idealBank",S),F=x("paymentRequestButton",S);e.AuBankAccountElement=k,e.CardCvcElement=N,e.CardElement=O,e.CardExpiryElement=j,e.CardNumberElement=T,e.Elements=v,e.ElementsConsumer=g,e.FpxBankElement=A,e.IbanElement=I,e.IdealBankElement=P,e.PaymentRequestButtonElement=F,e.useElements=function(){return h("calls useElements()").elements},e.useStripe=function(){return h("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,n("q1tI"))},hgWE:function(e,t,n){"use strict";var r=n("q1tI"),a=n("i8i4"),o=(n("XfO3"),n("HEwt"),n("f3/d"),n("a1Th"),n("Btvt"),n("rGqo"),n("rE2o"),n("ioFf"),n("KKXr"),n("/kEZ")),i=n.n(o),s=(n("yt8O"),n("hhXQ"),n("VRzm"),function(){return window._sr}),c=function(e){return function(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}(s(),e)};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){return!t&&void 0!==e||t&&Object.values(e).every((function(e){return"object"==u(e)}))?n(e):r(new Error("The requested data is not available"))}))}(c(e))};function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n("cDjE");var d=function(e){var t,n,o=e.children,s=e.close,c=e.id,u=e.wrapperClass,p=e.modalLabelText,d=e.showDialog,m=e.initialFocus,y=e.fullBleed,b=f((0,r.useState)(!1),2),v=b[0],h=b[1],g=f((0,r.useState)(!1),2),w=g[0],_=g[1],E=f((0,r.useState)({}),2),x=E[0],S=E[1];function k(){return h(!1),_(!0)}function O(e){return e in x?x[e]:""}return t="Escape",n=function(){k()},(0,r.useEffect)((function(){function e(e){e.key===t&&n()}return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}),[n,t]),(0,r.useEffect)((function(){l("localisations.modal").then((function(e){S(e)})).catch((function(e){console.log("Error accessing localisations")}))}),[]),(0,r.useEffect)((function(){d&&h(!0)}),[d]),(0,r.useEffect)((function(){v&&document.body.classList.add("prevent-scroll")}),[v]),(0,r.useEffect)((function(){var e=setTimeout((function(){w&&(document.body.classList.remove("prevent-scroll"),_(!1),s())}),300);return function(){return clearTimeout(e)}}),[w,s]),d?(0,a.createPortal)(r.createElement(r.Fragment,null,r.createElement("div",{className:"modal-overlay ".concat(v?"modal-overlay--open":""),onClick:k}),r.createElement(i(),{active:d,focusTrapOptions:{allowOutsideClick:!0,initialFocus:m||""}},r.createElement("div",{className:"modal ".concat(v?"modal--open":""," ").concat(u||""),id:"".concat(c,"-dialog"),"aria-modal":"true",role:"dialog","aria-labelledby":"".concat(c,"-dialog-label")},r.createElement("div",{className:"modal__header"},p?r.createElement("h2",{id:"".concat(c,"-dialog-label"),role:"status","aria-live":"assertive"},p," ",r.createElement("span",{className:"sr-only"},O("dialog_window"))):null),r.createElement("button",{type:"button",className:"modal__close","data-dismiss":"modal","aria-label":O("close"),onClick:k},r.createElement("i",{className:"far fa-times","aria-hidden":"true"}),r.createElement("span",null,O("close"))),r.createElement("div",{className:"modal__content ".concat(y?"modal__content--full-bleed":"")},o)))),document.body):null};function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=document.getElementById("listingQuotaModal"),b=function(e){var t,n,a=e.reactivateDate,o=e.reactivateTime,i=e.quotaReachedLink,s=e.totalAllowance,c=e.allowancePerListing,u=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],f=u[1];return(0,r.useEffect)((function(){document.querySelectorAll(".myListing-reactivateLink .button").forEach((function(e){e.addEventListener("click",(function(){f(!0)}))}))}),[]),r.createElement(d,{close:function(){return f(!1)},showDialog:l,modalLabelText:"Reactivate unavailable",id:"reactivate-unavailable",initialFocus:".modal__close"},r.createElement("p",null,r.createElement("strong",null,"You've reached the maximum permitted number of posted or reactivated ads (",s,") for your listing allowance.")," ","You can post new ads or reactivate expired ads ",c," ","times for every listing you have in any rolling 28 day period."),r.createElement("p",null,"To reactivate this ad you'll need to wait until ",a," at"," ",o," or"," ",r.createElement("a",{href:i[0]},i[1]),"."))};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t,n,a=e.renewTimeRemaining,o=e.advertId,i=e.localisations,s=e.renewAvailable,c=e.renewLink,u=e.adTitle,l=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=l[0],p=l[1],m=function(){return p(!0)};return r.createElement(r.Fragment,null,s?r.createElement("button",{"aria-label":"".concat(i.button_label," ").concat(u),onClick:m,className:"button button--link"},i.action):r.createElement("button",{"aria-label":"".concat(i.button_label," ").concat(u),className:"myListing-link__renew-unavailable",onClick:m},r.createElement("i",{className:"far fa-clock myListing-link__activate--icon"}),i.action),f?r.createElement(d,{close:function(){return p(!1)},showDialog:f,modalLabelText:s?i.modal_title:i.modal_title_alt,id:"renew-".concat(o),initialFocus:s?"":".modal__close"},s?r.createElement(r.Fragment,null,r.createElement("p",null,i.modal_body),r.createElement("div",{className:"myListing-link__confirm-renew"},r.createElement("a",{className:"button",href:c},i.modal_button))):r.createElement("p",null,i.modal_timing," ",a,".")):null)},g=(n("ZVF7"),n("SElE"),n("apwj"),n("afw4"),n("TS8G"),n("zd5E"),n("eYiQ"),n("vDqi")),w=n.n(g),_=w().create({baseURL:"/api",headers:{"Content-Type":"application/json"}});function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n("AuIT");var S=(0,r.createContext)(),k=(0,r.createContext)();function O(e){var t=(0,r.useRef)();return t.current||(t.current={v:e()}),t.current.v}var T=function(e){var t=e.state,n=e.children,a=(0,r.useState)(0),o=O((function(){return{tabs:0,panels:0}})),i=t||a;return r.createElement(k.Provider,{value:o},r.createElement(S.Provider,{value:i},n))};function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n("91GP");var N=function(e,t){return"".concat(e,"/").concat(t,".png")},A=function(e){var t=e.provider,n="".concat(e.path,"/").concat(t),a=N(n,"".concat(t,"_icon")),o="".concat(a," 1x, ").concat(N(n,"".concat(t,"_icon@2x"))," 2x"),i="".concat(t," icon"),s={};return e.width&&e.height&&(s.width=e.width,s.height=e.height),r.createElement("img",j({className:e.className,src:a,srcSet:o,alt:i},s))},I={paypal:"pay_pal",paypal_rest:"pay_pal"},P=function(e,t,n,a,o){return e.map((function(e,i){return r.createElement(A,{provider:e,path:t,key:i,className:"".concat(n,"__payment-icon"),width:a,height:o})}))},F=function(e){var t,n=function(t){return e.paymentProviders.some((function(e){return e.name==t}))},a=e.className||"payment-icons",o="".concat(e.staticFilesServer,"/images/spareroom/cards"),i=window&&window._sr&&window._sr.site&&"GB"==window._sr.site.country?"maestro":"amex",s=P(["visa","mastercard",i],o,a,60,40),c=["paypal_rest"].filter((function(e){return n(e)})).map((function(e){return I[e]})),u=P(c,o,a,63,40);t=c.length?r.createElement("div",{className:"".concat(a,"__other-providers")},u):null;var l=n("stripe")?r.createElement("div",{className:"".concat(a,"__cards")},s):null;return r.createElement("div",{className:a},l,t)},C=n("eWwy"),M="https://js.stripe.com/v3",R=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,D="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",B=null,L=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.12.1",startTime:t})}(r,n),r},q=Promise.resolve().then((function(){return e=null,null!==B?B:B=new Promise((function(t,n){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(D),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(M,'"]')),t=0;t<e.length;t++){var n=e[t];if(R.test(n.src))return n}return null}();r&&e?console.warn(D):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(M).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(e){return void n(e)}else t(null)}));var e})),U=!1;function Y(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))}q.catch((function(e){U||console.warn(e)})),n("ls82"),Object.create,Object.create,n("mxE3"),n("jlBd");var G={style:{base:{color:"#5D5D5D",fontFamily:'Arial, "Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#EA321B",iconColor:"#EA321B"}},classes:{base:"stripe-form__card-element",complete:"stripe-form__card-element--complete",empty:"stripe-form__card-element--empty",focus:"stripe-form__card-element--focus",invalid:"stripe-form__card-element--invalid",webkitAutofill:"stripe-form__card-element--webkit-autofill"}};function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $="",K=function(e){var t=e.onSuccess,n=e.autoFocus,a=void 0!==n&&n,o=e.buttonText,i=e.formClass,s=void 0===i?"stripe-form":i,c=e.staticFilesServer,u=e.beforeSubmitErrorMessage,l=void 0===u?function(){return""}:u,f=e.titleText,p=void 0===f?$:f,d=e.buttonClassModifier,m=void 0===d?"button--wide":d,y=e.localisations,b=(0,C.useStripe)(),v=(0,C.useElements)(),h=W((0,r.useState)(""),2),g=h[0],w=h[1],_=W((0,r.useState)(!0),2),E=_[0],x=_[1],S=W((0,r.useState)(!1),2),k=S[0],O=S[1];function T(e){return Y(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b&&v){n.next=2;break}return n.abrupt("return",!1);case 2:return n.next=4,b.handleCardAction(e);case 4:if(r=n.sent,a=r.paymentIntent,!(o=r.error)){n.next=10;break}return w(o.message),n.abrupt("return",O(!1));case 10:if(!a){n.next=12;break}return n.abrupt("return",t(a.id));case 12:return n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n)})))}function j(e,n,r){return Y(this,void 0,void 0,regeneratorRuntime.mark((function a(){var o,i,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(b){a.next=2;break}return a.abrupt("return",!1);case 2:return a.next=4,b.confirmCardPayment(e);case 4:if(o=a.sent,i=o.paymentIntent,!(s=o.error)){a.next=10;break}return w(s.message),a.abrupt("return",O(!1));case 10:if(!i){a.next=12;break}return a.abrupt("return",t(i.id,n,r));case 12:return a.abrupt("return",!1);case 13:case"end":return a.stop()}}),a)})))}function N(e){var t=e.actionRequired,n=e.client_secret,r=e.subscription,a=e.invoice,o=e.message,i=e.paymentProvider,s=e.paymentProviderSubType;return Y(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=o||y.sorry_something_went_wrong,"stripe"==i&&b){e.next=4;break}return O(!1),e.abrupt("return",!1);case 4:if(!t){e.next=9;break}if(!n){e.next=9;break}if(!r){e.next=8;break}return e.abrupt("return",j(n,s,a));case 8:return e.abrupt("return",T(n));case 9:return w(o),e.abrupt("return",O(!1));case 11:case"end":return e.stop()}}),e)})))}return $=y.enter_card_details,o=""==o?y.pay:o,r.createElement("form",{className:s,onSubmit:function(e){return function(e){return Y(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,a,o,i,s,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!k){n.next=3;break}return n.abrupt("return",!1);case 3:if(O(!0),b&&v){n.next=6;break}return n.abrupt("return",O(!1));case 6:if(!(r=l("stripe"))){n.next=10;break}return w(r),n.abrupt("return",O(!1));case 10:if(a=v.getElement(C.CardElement)){n.next=13;break}return n.abrupt("return",O(!1));case 13:return n.next=15,b.createPaymentMethod({type:"card",card:a});case 15:if(o=n.sent,i=o.paymentMethod,!(s=o.error)){n.next=21;break}return w(s.message),n.abrupt("return",O(!1));case 21:if(!i){n.next=28;break}return n.next=24,t(i.id);case 24:if(!(c=n.sent)){n.next=27;break}return n.abrupt("return",N(c));case 27:return n.abrupt("return",!0);case 28:return n.abrupt("return",O(!1));case 29:case"end":return n.stop()}}),n)})))}(e)},id:"stripeForm"},r.createElement(F,{className:"stripe-icons",staticFilesServer:c,paymentProviders:[{name:"stripe"}]}),r.createElement("div",{className:"form-row"},r.createElement("label",{className:"stripe-form__card-label".concat(""===p?" sr-only":""),htmlFor:"card-element"},""===p?$:p),r.createElement("div",{id:"stripeFormCardElement"},r.createElement(C.CardElement,{onChange:function(e){return t=e.error,void w(t?t.message:"");var t},onReady:function(e){return function(e){a&&e.focus(),x(!1)}(e)},options:G})),r.createElement("div",{className:"stripe-form__card-errors",id:"stripeFormCardErrors",role:"alert"},g)),r.createElement("button",{id:"stripeSubmitButton",className:"button ".concat(m),disabled:E,"aria-label":k?y.making_payment:y.make_payment},k?r.createElement("i",{"aria-hidden":"true",className:"far fa-spinner fa-pulse"}):o))};n("9AAn"),n("dRSK"),n("OG14"),n("RW0V");var Q,V,Z,z=new Map([["1","spareroom_uk"],["6","findaflat_uk"],["7","speedflatmating_uk"],["8","student_spareroom_uk"],["12","spareroom_us"],["21","appartager_fr"]]),X=(Q=c("commerce.payment_providers"),"stripe",Q.find((function(e){return"stripe"==e.name}))),J=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];U=!0;var r=Date.now();return q.then((function(e){return L(e,t,r)}))}(X&&X.publishable_key?X.publishable_key:""),ee=function(e){return r.createElement(C.Elements,{stripe:J},r.createElement(K,Object.assign({},e)))};function te(e){var t=e.category,n=e.action,r=e.label,a=e.value,o=e.non_interaction,i=void 0!==o&&o;if(window.dataLayer&&window.dataLayer.push){var s={event:"ga.event",ga_event_category:t,ga_event_action:n,ga_event_label:r,ga_event_value:a,ga_event_non_interaction:i};return window.dataLayer.push(s)}return!1}null!==(Z=null===(V=null===window||void 0===window?void 0:window._sr)||void 0===V?void 0:V.page.name)&&void 0!==Z||window.location.pathname;var ne=function(e){var t=e.amount,n=e.onSuccess,o=e.buttonColour,i=void 0===o?"silver":o,s=e.beforeSubmitErrorMessage,c=void 0===s?function(){return""}:s,u=window.paypal.Buttons.driver("react",{React:r,ReactDOM:a});return(0,r.useEffect)((function(){te({category:"upgrade",action:"paypal_pay_option_view",label:window.location.href,non_interaction:!0})}),[]),r.createElement("div",{"data-testid":"paypal-rest-wrapper",className:"paypal-button"},r.createElement(u,{onClick:function(){return!c("paypal")},createOrder:function(e,n){return function(e,n){return n.order.create({purchase_units:[{amount:{value:t}}],application_context:{shipping_preference:"NO_SHIPPING"}})}(0,n)},onApprove:function(e,t){return r=e.orderID,te({category:"purchase",action:"paypal_pay_select",label:window.location.href}),void n(r);var r},style:{color:i,height:40}}))},re=(n("TB9K"),function(e){var t=e.ariaLabel,n=e.children,a=e.disabled,o=e.forwardRef,i=e.panelId,s=function(){var e=E((0,r.useContext)(S),2),t=e[0],n=e[1],a=(0,r.useContext)(k),o=O((function(){var e=a.tabs;return a.tabs+=1,e})),i=O((function(){return function(){return n(o)}}));return(0,r.useMemo)((function(){return{isActive:t===o,onClick:i}}),[t,i,o])}(),c=s.onClick,u=s.isActive,l="tabbed-panel__tab",f=l+(u?" ".concat(l,"--selected"):"")+(a?" ".concat(l,"--hidden"):"");return r.createElement("button",{"aria-controls":i,"aria-label":t,"aria-selected":u,className:f,disabled:a,onClick:c,ref:o,role:"tab",type:"button"},n)}),ae=function(e){var t,n,a=e.children,o=e.id;return t=E((0,r.useContext)(S),1)[0],n=(0,r.useContext)(k),O((function(){var e=n.panels;return n.panels+=1,e}))===t?r.createElement("div",{id:o,role:"tabpanel",className:"tabbed-panel__panel"},a):null};function oe(e){var t=e.beforeSubmitErrorMessage,n=void 0===t?function(){return""}:t,a=e.disablePayPal,o=void 0!==a&&a,i=e.disableStripe,s=void 0!==i&&i,c=e.amount,u=e.paymentSuccess,l=e.payPalErrorMessage,f=void 0===l?"":l,p=e.payPalLabelText,d=void 0===p?"You will be redirected to PayPal on the next step.":p,m=e.staticFileServer,y=e.stripeButtonText,b=e.stripeLabelText,v=void 0===b?"Enter your card details":b,h=e.localisations,g=(0,r.useRef)(null),w=(0,r.useRef)(null);return(0,r.useEffect)((function(){o&&g&&g.current&&g.current.click()}),[o]),(0,r.useEffect)((function(){s&&w&&w.current&&w.current.click()}),[s]),r.createElement("div",{className:"tabbed-checkout"},r.createElement("div",{className:"tabbed-panel"},r.createElement(T,{state:null},r.createElement("div",{role:"tablist",className:"tabbed-panel__tabs"},r.createElement(re,{panelId:"panel-1",ariaLabel:"Pay using a card",forwardRef:g,disabled:s},r.createElement(F,{className:"tabbed-checkout-icons",staticFilesServer:m,paymentProviders:[{name:"stripe"}]})),r.createElement(re,{panelId:"panel-2",ariaLabel:"Pay with PayPal",disabled:o,forwardRef:w},r.createElement("img",{src:"/img/spareroom/buttons/commerce/PP_logo_h_200x51.png",alt:"PayPal Logo",height:"25",width:"98"}))),r.createElement("div",{className:"tabbed-panel__panels"},r.createElement(ae,{id:"panel-1"},r.createElement("div",{className:"tabbed-checkout__stripe"},r.createElement(ee,{onSuccess:function(e){return u("stripe",e)},staticFilesServer:m,buttonText:y,titleText:v,formClass:"stripe-form stripe-form--white stripe-form--no-card-icons",beforeSubmitErrorMessage:n,localisations:h}))),r.createElement(ae,{id:"panel-2"},r.createElement("article",{className:"tabbed-checkout__paypal"},r.createElement("header",{className:"tabbed-checkout__heading"},r.createElement("h4",{className:"heading heading--sub"},d)),r.createElement("main",{className:"tabbed-checkout__body"},r.createElement("div",{className:"tabbed-checkout__paypal-error",role:"alert"},f),r.createElement(ne,{amount:c,onSuccess:function(e){return u("paypal",e)},beforeSubmitErrorMessage:n}))))))))}function ie(e){var t=e.staticFileServer,n=e.paymentSuccess,a=e.close,o=e.showDialog,i=e.amount,s=void 0===i?1e3:i,c=e.currencySymbol,u=void 0===c?"£":c,l=e.localisations;return r.createElement(d,{close:a,showDialog:o,modalLabelText:"Get Boosts now",id:"boosts-payment-forms"},r.createElement(oe,{staticFileServer:t,paymentSuccess:n,amount:s/100,stripeButtonText:"Pay ".concat(u).concat((s/100).toFixed(2)),localisations:l}))}var se={flashMessageMap:function(e,t){return{error:{boosted:"Boost is not available",renew:"Renew is not available",subscribe:"Something is wrong with the email you provided.",upgrade_error:{heading:t.upgrade.upgrade_error,text:"".concat(t.upgrade.upgrade_error_msg," ").concat(e.phone_number,"."),timeout:0},upgrade_failure:{heading:t.upgrade.upgrade_failure,text:t.upgrade.payment_not_authorised}},info:{competitions:"You've already entered all our currently available competitions!"},success:{boosted:{heading:"Your ad has been Boosted!",text:"It's been moved up the search results to get more views. Please allow up to 20 minutes for this to go live."},competitions:"You've entered all available competitions successfully!",competition_coupon_redeemed:"Thanks, your extra entries have been added.",contact:"Thank you for contacting us. We will be in touch as soon as possible.",featured_ad_payment:{heading:"Your Featured Ad payment was successful.",timeout:0},register:"Thank you, you have registered successfully",renew:t.upgrade.your_ad_renewed,subscribe:"You're successfully signed up for email notifications.",ticket_payment:{heading:"You have booked and paid for your ticket.",text:"To gain access to the event, you will just need to provide the email address that you booked with.",timeout:0},upgrade:{heading:t.upgrade.upgrade_applied,text:t.upgrade.upgrade_applied_msg,timeout:0},deactivate:{heading:t.my_ads.ad_deactivated},deactivate_with_feedback:{heading:t.my_ads.thank_you_for_feedback,text:t.my_ads.ad_deactivated},payment_method_updated:{heading:"Card details updated",text:"You have updated your default card details for subscriptions",timeout:0},viewing:{heading:"Your viewing has been created.",text:"A message has been sent for confirmation."},viewing_cancelled:"This viewing has been cancelled",viewing_edited:"Your viewing has been updated",viewing_confirmed:"Viewing has been confirmed"},warning:{}}}};function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n("I5cv");var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(s,e);var t,n,a,o,i=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pe(a);if(o){var n=pe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fe(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).index=t.props.index,t.state={visibleClass:""},t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({visibleClass:" flash-message__message--visible"}),e.props.adjustBuffer()}),1e3)}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"flash-message__message flash-message__message--".concat(this.props.type).concat(this.state.visibleClass)},r.createElement("div",{className:"flash-message__content"},r.createElement("a",{className:"flash-message__close",onClick:function(){return e.props.closeMessage(e.props.messageID)}},r.createElement("i",{className:"far fa-times"})),r.createElement("i",{className:"flash-message__icon fas fa-".concat(this.props.icon)}),r.createElement(me,{content:this.props.content})),r.createElement("hr",{className:"flash-message__border"}))}}])&&ue(t.prototype,n),s}(r.Component),me=function(e){return e.content.heading?r.createElement("p",{className:"flash-message__text"},r.createElement("strong",{className:"flash-message__heading"},e.content.heading),r.createElement("span",null,e.content.text)):r.createElement("p",{className:"flash-message__text"},e.content.text)},ye=de;function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ee(o);if(i){var n=Ee(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return we(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).flashMessageMap=null,t.iconMap={success:"check-circle",error:"exclamation-circle",warning:"exclamation-triangle",info:"info-circle"},t.adjustBuffer=t.adjustBuffer.bind(_e(t)),t.getFlashMessageMap=t.getFlashMessageMap.bind(_e(t)),t.autoFlashMessage=t.autoFlashMessage.bind(_e(t)),t.closeMessage=t.closeMessage.bind(_e(t)),t.state={bufferHeightStyle:{height:0},messages:[],highestMessageID:0},t}return t=c,a=[{key:"processHashFragment",value:function(e){if(e.length){if("flash"==e[0])return e.slice(1);if("boosted"==e[0]||"renew"==e[0])return["failed"==e[2]?"error":e[2],e[0]];if("subscribe"==e[0])return[e[2],e[0]]}return null}},{key:"getTimeOut",value:function(e,t){return void 0!==t?1e3*t:"error"==e||"warning"==e?0:9e3}}],(n=[{key:"componentDidMount",value:function(){var e=this;this.autoFlashMessage(this.props.hashFragment||null),this.props.exposeMethods&&(window.flashMessage={showSuccessMessage:function(t){return e.showMessage("success",t)},showErrorMessage:function(t){return e.showMessage("error",t)},showWarningMessage:function(t){return e.showMessage("warning",t)},showInfoMessage:function(t){return e.showMessage("info",t)},autoFlashMessage:this.autoFlashMessage})}},{key:"autoFlashMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=(e||window.location.hash.slice(1)).split("-");var t=c.processHashFragment(e);if(t){var n=t[0],r=t.length>2?t.slice(1).join("_"):t[1];this.getFlashMessageMap();var a=this.flashMessageMap[n];if(a){var o=a[r];if(o)return this.showMessage(n,o)}}return[]}},{key:"getFlashMessageMap",value:function(){this.flashMessageMap||(this.flashMessageMap=this.props.predefinedMessages.flashMessageMap(this.props.siteData,this.props.localisations))}},{key:"adjustBuffer",value:function(){var e=this,t=document.getElementById("flash-message-wrapper")||{},n=0,r=setInterval((function(){(n+=100)<=2500?e.setState({bufferHeightStyle:{height:t.offsetHeight?"".concat(t.offsetHeight,"px"):"0"}}):clearInterval(r)}),10)}},{key:"showMessage",value:function(e,t){var n,r=this,a="object"==ve(t)?t:{text:t},o=c.getTimeOut(e,t.timeout),i=o?function(e){return setTimeout((function(){return r.closeMessage(e)}),o)}:function(){return null};this.setState((function(t){return n=t.highestMessageID+1,{messages:[].concat((r=t.messages,function(e){if(Array.isArray(e))return be(e)}(r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{type:e,content:a,timeout:o,messageID:n}]),highestMessageID:n};var r}),(function(){return i(n)}))}},{key:"closeMessage",value:function(e){this.setState((function(t){return{messages:t.messages.filter((function(t){return t.messageID!=e}))}})),this.adjustBuffer()}},{key:"renderMessages",value:function(){var e=this;return this.state.messages.length?this.state.messages.map((function(t,n){return r.createElement(ye,{type:t.type,content:t.content,messageID:t.messageID,icon:e.iconMap[t.type],adjustBuffer:e.adjustBuffer,closeMessage:e.closeMessage,key:n})})):null}},{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"flash-message".concat(this.props.siteData.mobile?"":" flash-message--desktop"),id:"flash-message-wrapper"},this.renderMessages()),r.createElement("div",{className:"flash-message__buffer",style:this.state.bufferHeightStyle}))}}])&&he(t.prototype,n),a&&he(t,a),c}(r.Component),Se=(window.flashMessage||function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.getElementById("flash-messaging");t?a.render(r.createElement(xe,{exposeMethods:e,predefinedMessages:se,siteData:c("site"),localisations:c("localisations")}),t):console.warn("Unable to mount flash messaging.")}(),window.flashMessage);n("xfY5");var ke=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return 0==document.getElementsByClassName("flash-message__message").length&&Se.showErrorMessage({heading:"Warning",text:"It appears that you have cookies/local storage disabled which prevents the site from functioning correctly. Please enable them and try again."}),e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==storage.length}};function Oe(e){return(Number(e)/100).toFixed(2).toString()}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e){var t,n=e.boostProductDetails,a=e.advertId,o=e.csEmail,i=e.currency,s=void 0===i?"gbp":i,c=e.currencySymbol,u=e.domainString,l=e.offeredAdsCount,f=void 0===l?1:l,p=e.phoneNumber,d=e.platform,m=void 0===d?"mobile":d,y=e.subDirectory,b=void 0===y?"flatshare":y,v=e.userId,h=e.localisations,g=(t=Array(4*f).keys(),function(e){if(Array.isArray(e))return Ne(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||je(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e+1})),_=Te((0,r.useState)(!1),2),E=_[0],x=_[1],S=Te((0,r.useState)(0),2),k=S[0],O=S[1],T=Te((0,r.useState)(0),2),j=T[0],N=T[1];function A(e){var t=e.id;if(function(e){var t=e.currencyCode,n=void 0===t?"gbp":t,r=e.transactionId,a=e.totalAmount,o=e.coupon,i=e.products,s=e.asynchronous,c=void 0!==s&&s,u=window.dataLayer;if(u&&u.push){var l=i.map((function(e){var t;return Object.assign(Object.assign({},e),{price:Oe(e.price),quantity:null!==(t=e.quantity)&&void 0!==t?t:1})})),f={id:r,revenue:Oe(a)};o&&(f.coupon=o);var p={currencyCode:n.toUpperCase(),ecommerce:{purchase:{actionField:f,products:l}}};return c?function(e){if(ke("localStorage")){var t=localStorage.getItem("gtm-queue"),n=Array.isArray(t)?t:[];return n.push(e),localStorage.setItem("gtm-queue",JSON.stringify(n))}return!1}(p):u.push(p)}}({currencyCode:s,transactionId:t,totalAmount:j,products:[{id:n.id.toString(),category:n.category,name:n.name,price:parseInt((100*parseFloat(n.price)).toFixed(0),10),quantity:k}],asynchronous:!0}),ke("localStorage")){var r={date:Date.now(),quantity:k};return localStorage.setItem("boosts-purchased",JSON.stringify(r))}return!0}return(0,r.useEffect)((function(){if(n.price){O(1);var e=parseInt((100*parseFloat(n.price)).toFixed(0),10);N(1*e)}}),[n]),r.createElement(r.Fragment,null,r.createElement("form",{id:"get-boosts",className:"get-boosts__form",onSubmit:function(e){e.preventDefault(),x(!0)}},r.createElement("label",{className:"get-boosts__label",htmlFor:"number-of-boosts"},"Number of Boosts"),r.createElement("div",{className:"form-group__select"},r.createElement("select",{className:"form-group__select-list",id:"number-of-boosts",onChange:function(e){var t=parseInt(e.target.value,10);O(t);var r=parseInt((100*parseFloat(n.price)).toFixed(0),10);N(r*t)}},g.map((function(e){return r.createElement("option",{key:e,value:e},"Buy ",e," ","Boost".concat(e>1?"s":"")," (",c,(parseFloat(n.price)*e).toFixed(2),")")}))),r.createElement("span",{className:"form-group__select-icon"},r.createElement("i",{"aria-hidden":!0,className:"far fa-chevron-down"}))),r.createElement("div",{className:"get-boosts__select"}),r.createElement("p",{className:"get-boosts__text"},"You can only use 1 Boost per ad in any rolling 7-day period. You must also wait 7 days after creating or reactivating your ad to use Boosts."),r.createElement("div",{className:"get-boosts__button"},r.createElement("button",{className:"button button--wide"},"Continue")),E?r.createElement(ie,{staticFileServer:"/v2",paymentSuccess:function(e,t){var r=[{id:n.id.toString(),quantity:k}];return function(e){var t=e.affiliateId,n=e.amount,r=e.context,a=e.currency,o=e.customerServiceContactDetails,i=e.domain,s=e.paymentProvider,c=e.platform,u=e.products,l=e.successCallback,f=e.successUrl,p=e.token,d=e.userId;return Y(this,void 0,void 0,regeneratorRuntime.mark((function e(){var m,y,b,v,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m={charge:{currency:a,amount:n},external_transaction:{service:{type:s}},order_id:p,products:u,source:{domain:i,platform:c},token:p,user:{id:d}},r&&(m.context=r),t&&(m.affiliate={id:t}),e.prev=3,e.next=6,w().post("/api/1.0/payments",m);case 6:return y=e.sent,l(y.data.data),te({category:"purchase",action:"".concat(u[0].quantity," Extra Boost_purchase"),label:"".concat("gbp"===a?"£":"$").concat((n/100).toFixed(2),"|").concat(f,"|context=NULL")}),e.abrupt("return",window.location.assign(f));case 12:if(e.prev=12,e.t0=e.catch(3),!e.t0.response||400!=e.t0.response.status){e.next=21;break}if(b=e.t0.response.data.errors,!(v=b.find((function(e){return 3005===e.code})))){e.next=19;break}return e.abrupt("return",{actionRequired:!0,subscription:!1,client_secret:v.data.client_secret,message:v.message,paymentProvider:m.external_transaction.service.type});case 19:return h=2022===b[0].code?"The charge value is invalid":"Please try again. If this problem persists, then contact customer services on ".concat(o.phoneNumber," or ").concat(o.email),e.abrupt("return",{actionRequired:!1,message:h,subscription:!1,paymentProvider:m.external_transaction.service.type});case 21:return e.abrupt("return",Se.showErrorMessage({heading:"Payment error",text:"Sorry, we had a problem processing your payment. Please contact Customer Services on ".concat(o.phoneNumber," or ").concat(o.email)}));case 22:case"end":return e.stop()}}),e,null,[[3,12]])})))}({affiliateId:"",amount:j,context:"",currency:s,customerServiceContactDetails:{phoneNumber:p,email:o},domain:u,paymentProvider:e,platform:m,products:r,successCallback:A,successUrl:"/".concat(b,"/mylistings.pl?boosts_purchased=").concat(k).concat(a?"&boosts_advert_id=".concat(a):"","#boosts-success"),token:t,userId:v})},close:function(){x(!1)},showDialog:E,amount:j,currencySymbol:c,localisations:h}):null))}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n("ZS3O"),n("/YH0"),n("Z2Ku"),n("L9s1");var Pe=function(e){var t=e.localisations,n=e.siteId,a=e.userType;return r.createElement(r.Fragment,null,r.createElement("p",null,t.how_your_ad_will_look),1===n?"offerer"===a?r.createElement("img",{alt:"Bold offered ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/uk-ad-examples/srp-4.png?v=2"}):r.createElement("img",{alt:"Bold wanted ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/uk-ad-examples/srp-7.png?v=2"}):null,12===n?"offerer"===a?r.createElement("img",{alt:"Bold offered ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/us-ad-examples/srp-4-us.png?v=1"}):r.createElement("img",{alt:"Bold wanted ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/us-ad-examples/srp-1-us.png?v=1"}):null,21===n?"offerer"===a?r.createElement("img",{alt:"Bold offered ad example",className:"modal__ad-example-image",src:"/img/appartager/screenshots/ad-examples/srp-bold-offered.png?v=1"}):r.createElement("img",{alt:"Bold wanted ad example",className:"modal__ad-example-image",src:"/img/appartager/screenshots/ad-examples/srp-bold-wanted.png?v=1"}):null,r.createElement("p",null,t.how_your_ad_currently_appears),1===n?"offerer"===a?r.createElement("img",{alt:"Non upgraded offered ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/uk-ad-examples/srp-3.png?v=4"}):r.createElement("img",{alt:"Non upgraded wanted ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/uk-ad-examples/srp-6.png?v=4"}):null,12===n?"offerer"===a?r.createElement("img",{alt:"Non upgraded offered ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/us-ad-examples/srp-5-us.png?v=1"}):r.createElement("img",{alt:"Non upgraded wanted ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/us-ad-examples/srp-2-us.png?v=1"}):null,21===n?"offerer"===a?r.createElement("img",{alt:"Non upgraded offered ad example",className:"modal__ad-example-image",src:"/img/appartager/screenshots/ad-examples/srp-standard-offered.png?v=1"}):r.createElement("img",{alt:"Non upgraded wanted ad example",className:"modal__ad-example-image",src:"/img/appartager/screenshots/ad-examples/srp-standard-wanted.png?v=1"}):null)},Fe=function(e){var t=e.localisations,n=e.siteId,a=e.userType;return r.createElement(r.Fragment,null,r.createElement("p",null,t.how_your_ad_will_look),1===n?"offerer"===a?r.createElement("img",{alt:"Bold offered ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/uk-ad-examples/srp-2.png?v=2"}):r.createElement("img",{alt:"Bold wanted ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/uk-ad-examples/srp-1.png?v=2"}):null,12===n?"offerer"===a?r.createElement("img",{alt:"Bold offered ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/us-ad-examples/srp-6-us.png?v=1"}):r.createElement("img",{alt:"Bold wanted ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/us-ad-examples/srp-7-us.png?v=1"}):null,21===n?"offerer"===a?r.createElement("img",{alt:"Bold offered ad example",className:"modal__ad-example-image",src:"/img/appartager/screenshots/ad-examples/srp-bold-offered.png?v=1"}):r.createElement("img",{alt:"Bold wanted ad example",className:"modal__ad-example-image",src:"/img/appartager/screenshots/ad-examples/srp-bold-wanted.png?v=1"}):null,r.createElement("p",null,t.how_your_ad_currently_appears),1===n?"offerer"===a?r.createElement("img",{alt:"Non upgraded offered ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/uk-ad-examples/srp-5.png?v=2"}):r.createElement("img",{alt:"Non upgraded wanted ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/uk-ad-examples/srp.png?v=2"}):null,12===n?"offerer"===a?r.createElement("img",{alt:"Non upgraded offered ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/us-ad-examples/srp-3-us.png?v=2"}):r.createElement("img",{alt:"Non upgraded wanted ad example",className:"modal__ad-example-image",src:"/img/spareroom/screenshots/us-ad-examples/srp-us.png?v=1"}):null,21===n?"offerer"===a?r.createElement("img",{alt:"Non upgraded offered ad example",className:"modal__ad-example-image",src:"/img/appartager/screenshots/ad-examples/srp-standard-offered.png?v=1"}):r.createElement("img",{alt:"Non upgraded wanted ad example",className:"modal__ad-example-image",src:"/img/appartager/screenshots/ad-examples/srp-standard-wanted.png?v=1"}):null)};function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n("1k1K");var Me=function(){te({category:"ads",action:"free_bold_options_see_bold_example_post_ad"})},Re=function(e){var t,n,a=e.isMobile,o=e.siteId,i=e.userType,s=e.subDirectory,c=e.loginReturnPath,u=e.postBoldAd,l=e.localisations,f=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],m=f[1];return r.createElement(r.Fragment,null,p?r.createElement(d,{close:function(){m(!1)},showDialog:p,modalLabelText:l.bold_advertising,id:"bold-advertising-modal",initialFocus:u?"#modalPriceButton":"#modalUpgradeButton"},a?r.createElement(Fe,{localisations:l,siteId:o,userType:i}):r.createElement(Pe,{localisations:l,siteId:o,userType:i}),r.createElement("span",{className:"modal__ad-example-upgrade-button"},u?r.createElement("a",{href:"/".concat(s,"/find-postcode3.pl?desc=Bold+Advert&amount=10&scp=N"),className:"button",id:"modalPriceButton",onClick:Me},l.post_a_bold_ad):r.createElement("a",{href:"/".concat(s,"/").concat("seeker"===i?"get_early_bird.pl":"get_bold_advertising.pl","?M_context=").concat("/content/myaccount/myaccount-index/"===c?"81":"79"),className:"button",id:"modalUpgradeButton"},l.upgrade_now))):null,r.createElement("span",{className:"upgrade-panel__example-button"},r.createElement("span",{className:"upgrade-panel__example-dash"}," – "),r.createElement("button",{onClick:function(){m(!0)},className:"button button--link"},l.see_example)))};function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Be,Le,qe,Ue=document.getElementById("adExamples");(Be=window.location.hash)&&Be.slice(1).split("-").includes("fees_apply")&&Se.showInfoMessage({heading:"The Tenant Fees Act means the law has changed",text:"To stay compliant with the new laws, please check you’ve removed any reference to fees in your ad description",timeout:0}),(Le=document.querySelector("#get-boosts"))&&Promise.all([l("site"),l("customer"),l("affiliate"),(qe="/web/products?type=upgrade_extra&category=Extra%20Boost",_.get(qe).then((function(e){return e.data.data})).catch((function(e){return t=e,!!SR.log&&SR.log(t),Promise.reject(e);var t}))),l("localisations")]).then((function(e){var t,n,o,i=(o=5,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(n,o)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],c=i[1],u=i[2],l=i[3],f=i[4],p=s.currency,d=s.currency_symbol,m=s.id,y=s.phone_number,b=s.cs_email,v=s.mobile,h=s.sub_dir,g=v?"mobile":"desktop",w=Le.dataset.boostsAdvertId;a.render(r.createElement(Ae,{affiliateId:u.id,boostProductDetails:l[0],csEmail:b,currency:p.toLowerCase(),currencySymbol:d,domainString:(t=m,z.get(String(t))),offeredAdsCount:c.adverts_offered,phoneNumber:y,platform:g,subDirectory:h,userId:c.id,advertId:w,localisations:f.upgrade}),Le)})),Ue&&Promise.all([l("site"),l("customer"),l("page"),l("localisations")]).then((function(e){var t,n,o=(n=4,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],s=o[1],c=o[2],u=o[3];a.render(r.createElement(Re,{currencySymbol:i.currency_symbol,isMobile:i.mobile,siteId:i.id,userType:"seeker"===s.initial_type?"seeker":"offerer",subDirectory:i.sub_dir,loginReturnPath:c.loginReturnPath,postBoldAd:undefined,localisations:u.upgrade}),Ue)}));var Ye,Ge,We,He,$e,Ke,Qe=document.getElementById("listingQuotaModal"),Ve=document.querySelectorAll(".myListing-link__activate--renew");if(Qe&&(Ge=(Ye=y.dataset).reactivateDate,We=Ye.reactivateTime,He=Ye.quotaReachedLink,$e=Ye.totalAllowance,Ke=Ye.allowancePerListing,a.render(r.createElement(b,{reactivateDate:Ge,reactivateTime:We,quotaReachedLink:He.split(","),totalAllowance:$e,allowancePerListing:Ke}),y)),Ve.length&&l("page.mylistings").then((function(e){Ve.forEach((function(t){var n=t.dataset,o=n.renewTimeRemaining,i=n.advertId,s=n.renewAvailable,c=n.renewLink;a.render(r.createElement(h,{renewTimeRemaining:o,localisations:e,advertId:i,renewAvailable:s,renewLink:c}),t)}))})),!window._sr.customer.adverts_wanted){var Ze=document.querySelector(".verification-tip");Ze&&(Ze.style.display="none")}},"/kEZ":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("q1tI"),u=n("i8i4"),l=n("17x9"),f=n("gKLF").createFocusTrap,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,e);var t,n,r,l,f=(r=p,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(l){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return i(this,e)});function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=f.call(this,e)).tailoredFocusTrapOptions={returnFocusOnDeactivate:!1},t.returnFocusOnDeactivate=!0;var n=e.focusTrapOptions;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&("returnFocusOnDeactivate"!==r?t.tailoredFocusTrapOptions[r]=n[r]:t.returnFocusOnDeactivate=!!n[r]);return t.focusTrapElements=e.containerElements||[],t.updatePreviousElement(),t}return t=p,(n=[{key:"updatePreviousElement",value:function(){"undefined"!=typeof document&&(this.previouslyFocusedElement=document.activeElement)}},{key:"returnFocus",value:function(){this.previouslyFocusedElement&&this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus()}},{key:"setupFocusTrap",value:function(){if(!this.focusTrap){var e=this.focusTrapElements.map(u.findDOMNode);e.some(Boolean)&&(this.focusTrap=this.props._createFocusTrap(e,this.tailoredFocusTrapOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(e){if(this.focusTrap){if(e.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements),e.active&&!this.props.active)return this.focusTrap.deactivate({returnFocus:!1}),void(this.returnFocusOnDeactivate&&this.returnFocus());!e.active&&this.props.active&&(this.updatePreviousElement(),this.focusTrap.activate()),e.paused&&!this.props.paused?this.focusTrap.unpause():!e.paused&&this.props.paused&&this.focusTrap.pause()}else e.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements,this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.focusTrap&&this.focusTrap.deactivate({returnFocus:!1}),this.returnFocusOnDeactivate&&this.returnFocus()}},{key:"render",value:function(){var e=this,t=this.props.children?c.Children.only(this.props.children):void 0;if(t){if(t.type&&t.type===c.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");return c.cloneElement(t,{ref:function(n){var r=e.props.containerElements;t&&("function"==typeof t.ref?t.ref(n):t.ref&&(t.ref.current=n)),e.focusTrapElements=r||[n]}})}return null}}])&&a(t.prototype,n),p}(c.Component),d="undefined"==typeof Element?Function:Element;p.propTypes={active:l.bool,paused:l.bool,focusTrapOptions:l.shape({onActivate:l.func,onDeactivate:l.func,initialFocus:l.oneOfType([l.instanceOf(d),l.string,l.func]),fallbackFocus:l.oneOfType([l.instanceOf(d),l.string,l.func]),escapeDeactivates:l.bool,clickOutsideDeactivates:l.oneOfType([l.bool,l.func]),returnFocusOnDeactivate:l.bool,setReturnFocus:l.oneOfType([l.instanceOf(d),l.string,l.func]),allowOutsideClick:l.oneOfType([l.bool,l.func]),preventScroll:l.bool}),containerElements:l.arrayOf(l.instanceOf(d)),children:l.oneOfType([l.element,l.instanceOf(d)])},p.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:f},e.exports=p},gKLF:function(e,t,n){"use strict";n.r(t),n.d(t,{createFocusTrap:function(){return _}});var r,a=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],o=a.join(","),i="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,s=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t},c=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},u=function(e){return"INPUT"===e.tagName},l=function(e){return!(e.disabled||function(e){return u(e)&&"hidden"===e.type}(e)||function(e){if("hidden"===getComputedStyle(e).visibility)return!0;var t=i.call(e,"details>summary:first-of-type")?e.parentElement:e;if(i.call(t,"details:not([open]) *"))return!0;for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(e))},f=function(e){return!(!l(e)||function(e){return function(e){return u(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||e.ownerDocument,r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var a=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!a||a===e}(e)}(e)||s(e)<0)},p=a.concat("iframe").join(","),d=function(e){if(!e)throw new Error("No node provided");return!1!==i.call(e,p)&&l(e)};function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b,v=(b=[],{activateTrap:function(e){if(b.length>0){var t=b[b.length-1];t!==e&&t.pause()}var n=b.indexOf(e);-1===n||b.splice(n,1),b.push(e)},deactivateTrap:function(e){var t=b.indexOf(e);-1!==t&&b.splice(t,1),b.length>0&&b[b.length-1].unpause()}}),h=function(e){return setTimeout(e,0)},g=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},_=function(e,t){var n,a=document,u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),l={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},p=function(e){return l.containers.some((function(t){return t.contains(e)}))},b=function(e){var t=u[e];if(!t)return null;var n=t;if("string"==typeof t&&!(n=a.querySelector(t)))throw new Error("`".concat(e,"` refers to no known node"));if("function"==typeof t&&!(n=t()))throw new Error("`".concat(e,"` did not return a node"));return n},_=function(){var e;if(null!==b("initialFocus"))e=b("initialFocus");else if(p(a.activeElement))e=a.activeElement;else{var t=l.tabbableGroups[0];e=t&&t.firstTabbableNode||b("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},E=function(){if(l.tabbableGroups=l.containers.map((function(e){var t,n,r,a,u,l,p,d=(n=[],r=[],(a=e,u=(t=t||{}).includeContainer,l=f,p=Array.prototype.slice.apply(a.querySelectorAll(o)),u&&i.call(a,o)&&p.unshift(a),p.filter(l)).forEach((function(e,t){var a=s(e);0===a?n.push(e):r.push({documentOrder:t,tabIndex:a,node:e})})),r.sort(c).map((function(e){return e.node})).concat(n));if(d.length>0)return{container:e,firstTabbableNode:d[0],lastTabbableNode:d[d.length-1]}})).filter((function(e){return!!e})),l.tabbableGroups.length<=0&&!b("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},x=function e(t){t!==a.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!u.preventScroll}),l.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(_()))},S=function(e){p(e.target)||(w(u.clickOutsideDeactivates,e)?n.deactivate({returnFocus:u.returnFocusOnDeactivate&&!d(e.target)}):w(u.allowOutsideClick,e)||e.preventDefault())},k=function(e){var t=p(e.target);t||e.target instanceof Document?t&&(l.mostRecentlyFocusedNode=e.target):(e.stopImmediatePropagation(),x(l.mostRecentlyFocusedNode||_()))},O=function(e){if(!1!==u.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void n.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){E();var t=null;if(l.tabbableGroups.length>0)if(g(l.tabbableGroups,(function(t){return t.container.contains(e.target)}))<0)t=e.shiftKey?l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:l.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var n=g(l.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e.target===n}));if(n>=0){var r=0===n?l.tabbableGroups.length-1:n-1;t=l.tabbableGroups[r].lastTabbableNode}}else{var a=g(l.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e.target===n}));if(a>=0){var o=a===l.tabbableGroups.length-1?0:a+1;t=l.tabbableGroups[o].firstTabbableNode}}else t=b("fallbackFocus");t&&(e.preventDefault(),x(t))}(e)},T=function(e){w(u.clickOutsideDeactivates,e)||p(e.target)||w(u.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},j=function(){if(l.active)return v.activateTrap(n),r=u.delayInitialFocus?h((function(){x(_())})):x(_()),a.addEventListener("focusin",k,!0),a.addEventListener("mousedown",S,{capture:!0,passive:!1}),a.addEventListener("touchstart",S,{capture:!0,passive:!1}),a.addEventListener("click",T,{capture:!0,passive:!1}),a.addEventListener("keydown",O,{capture:!0,passive:!1}),n},N=function(){if(l.active)return a.removeEventListener("focusin",k,!0),a.removeEventListener("mousedown",S,!0),a.removeEventListener("touchstart",S,!0),a.removeEventListener("click",T,!0),a.removeEventListener("keydown",O,!0),n};return(n={activate:function(e){if(l.active)return this;E(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=a.activeElement;var t=e&&e.onActivate?e.onActivate:u.onActivate;return t&&t(),j(),this},deactivate:function(e){if(!l.active)return this;clearTimeout(r),N(),l.active=!1,l.paused=!1,v.deactivateTrap(n);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:u.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:u.returnFocusOnDeactivate)&&h((function(){var e;x((e=l.nodeFocusedBeforeActivation,b("setReturnFocus")||e))})),this},pause:function(){return l.paused||!l.active||(l.paused=!0,N()),this},unpause:function(){return l.paused&&l.active?(l.paused=!1,E(),j(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return l.containers=t.map((function(e){return"string"==typeof e?a.querySelector(e):e})),l.active&&E(),this}}).updateContainerElements(e),n}},jlBd:function(){},mxE3:function(){},TB9K:function(){},TS8G:function(){},zd5E:function(){},"/YH0":function(){},afw4:function(){},cDjE:function(){},AuIT:function(){},eYiQ:function(){},SElE:function(){},"1k1K":function(){},ZS3O:function(){},ZVF7:function(){},apwj:function(){},MgzW:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,s,c=a(e),u=1;u<arguments.length;u++){for(var l in i=Object(arguments[u]))n.call(i,l)&&(c[l]=i[l]);if(t){s=t(i);for(var f=0;f<s.length;f++)r.call(i,s[f])&&(c[s[f]]=i[s[f]])}}return c}},"16Al":function(e,t,n){"use strict";var r=n("WbBG");function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},"17x9":function(e,t,n){e.exports=n("16Al")()},WbBG:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"+wdc":function(e,t){"use strict";var n,r,a,o,i;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,c=null,u=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(u,0),e}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(u,0))},r=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},o=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var y=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var b=p.now();t.unstable_now=function(){return p.now()-b}}var v=!1,h=null,g=-1,w=5,_=0;o=function(){return t.unstable_now()>=_},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,x=E.port2;E.port1.onmessage=function(){if(null!==h){var e=t.unstable_now();_=e+w;try{h(!0,e)?x.postMessage(null):(v=!1,h=null)}catch(e){throw x.postMessage(null),e}}else v=!1},n=function(e){h=e,v||(v=!0,x.postMessage(null))},r=function(e,n){g=d((function(){e(t.unstable_now())}),n)},a=function(){m(g),g=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<T(a,t)))break e;e[r]=t,e[n]=a,n=r}}function k(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,i=e[o],s=o+1,c=e[s];if(void 0!==i&&0>T(i,n))void 0!==c&&0>T(c,i)?(e[r]=c,e[s]=n,r=s):(e[r]=i,e[o]=n,r=o);else{if(!(void 0!==c&&0>T(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var j=[],N=[],A=1,I=null,P=3,F=!1,C=!1,M=!1;function R(e){for(var t=k(N);null!==t;){if(null===t.callback)O(N);else{if(!(t.startTime<=e))break;O(N),t.sortIndex=t.expirationTime,S(j,t)}t=k(N)}}function D(e){if(M=!1,R(e),!C)if(null!==k(j))C=!0,n(B);else{var t=k(N);null!==t&&r(D,t.startTime-e)}}function B(e,n){C=!1,M&&(M=!1,a()),F=!0;var i=P;try{for(R(n),I=k(j);null!==I&&(!(I.expirationTime>n)||e&&!o());){var s=I.callback;if(null!==s){I.callback=null,P=I.priorityLevel;var c=s(I.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?I.callback=c:I===k(j)&&O(j),R(n)}else O(j);I=k(j)}if(null!==I)var u=!0;else{var l=k(N);null!==l&&r(D,l.startTime-n),u=!1}return u}finally{I=null,P=i,F=!1}}function L(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){C||F||(C=!0,n(B))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return k(j)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=q,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();if("object"==typeof i&&null!==i){var c=i.delay;c="number"==typeof c&&0<c?s+c:s,i="number"==typeof i.timeout?i.timeout:L(e)}else i=L(e),c=s;return e={id:A++,callback:o,priorityLevel:e,startTime:c,expirationTime:i=c+i,sortIndex:-1},c>s?(e.sortIndex=c,S(N,e),null===k(j)&&e===k(N)&&(M?a():M=!0,r(D,c-s))):(e.sortIndex=i,S(j,e),C||F||(C=!0,n(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();R(e);var n=k(j);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},QCnb:function(e,t,n){"use strict";e.exports=n("+wdc")}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.x=function(){},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={9516:0},t=[["hgWE",4736]],r=function(){},a=function(a,o){for(var i,s,c=o[0],u=o[1],l=o[2],f=o[3],p=0,d=[];p<c.length;p++)s=c[p],n.o(e,s)&&e[s]&&d.push(e[s][0]),e[s]=0;for(i in u)n.o(u,i)&&(n.m[i]=u[i]);for(l&&l(n),a&&a(o);d.length;)d.shift()();return f&&t.push.apply(t,f),r()},o=self.webpackChunkspareroom3=self.webpackChunkspareroom3||[];function i(){for(var r,a=0;a<t.length;a++){for(var o=t[a],i=!0,s=1;s<o.length;s++){var c=o[s];0!==e[c]&&(i=!1)}i&&(t.splice(a--,1),r=n(n.s=o[0]))}return 0===t.length&&(n.x(),n.x=function(){}),r}o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o));var s=n.x;n.x=function(){return n.x=s||function(){},(r=i)()}}(),n.x()}();
//# sourceMappingURL=desktop.395f64b36647147c48da.js.map